'use strict';

$(function () {
	$('#nav-menu').sticky({
		topSpacing: 0
	});

	// slider events
	$('.events__list').slick({
		infinite: true,
		slidesToShow: 3,
		slidesToScroll: 1,
//		asNavFor: '.header__links',
		responsive: [
			{
				breakpoint: 820,
				settings: {
					slidesToShow: 2,
				},
			},
			{
				breakpoint: 500,
				settings: {
					slidesToShow: 1,
				},
			}
		],
		prevArrow: $('.events__btn--left'),
		nextArrow: $('.events__btn--right')
	});

	// slider links
	$('.header__links').slick({
		infinite: true,
		slidesToShow: 5,
		slidesToScroll: 1,
//		asNavFor: '.events__list',
		responsive: [
			{
				breakpoint: 790,
				settings: {
					slidesToShow: 4,
				},
			},
			{
				breakpoint: 630,
				settings: {
					slidesToShow: 3,
				},
			},
			{
				breakpoint: 480,
				settings: {
					slidesToShow: 2,
				},
			},
			{
				breakpoint: 350,
				settings: {
					slidesToShow: 1,
				},
			}
		],
		prevArrow: $('.links__btn--left'),
		nextArrow: $('.links__btn--right')
	});

	// feedback form
	$('.feedback__form').on('submit', function (event) {
		event.preventDefault();

		var $form = $(this),
		    url = $form.attr('action'),
		    method = $form.attr('method'),
		    data = $form.serialize(),
		    afterMsg = $form.attr('data-after-msg');

		$form.addClass('.feedback__form--loader');

		$.ajax({ method: method, url: url, data: data }).always(function () {
			$form.removeClass('.feedback__form--loader');
		}).fail(function () {
			alert('Ошибка при отправки формы');
		}).done(function () {
			$form.trigger('reset');

			if (afterMsg) {
				alert(afterMsg);
			}
		});
	});
});
//# sourceMappingURL=main.min.js.map